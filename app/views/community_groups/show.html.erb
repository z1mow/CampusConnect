<h1><%= @community_group.name %></h1>
<p>Created by: <%= @community_group.creator.username %></p>

<h2>Members</h2>
<ul>
  <% @members.each do |member| %>
    <li>
      <%= member.username %>
      <% if @community_group.created_by?(current_user) %> <!-- Sadece admin Remove'u görür -->
        <%= link_to 'Remove', community_group_group_member_path(@community_group, member), method: :delete, class: "btn btn-danger btn-sm" %>
      <% end %>
    </li>
  <% end %>
</ul>

<% unless @community_group.users.include?(current_user) %> <!-- Kullanıcı üyeyse, kayıt olamaz -->
  <%= form_with url: community_group_group_members_path(@community_group), method: :post, local: true do |f| %>
    <%= f.hidden_field :user_id, value: current_user.id %>
    <%= f.submit "Join Chatroom", class: "btn btn-success" %>
  <% end %>
<% end %>
