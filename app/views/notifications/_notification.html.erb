<%# Friend Request Notification %>
<% if notification.action == 'friend_request' %>
  <div class="item notification <%= 'unread' unless notification.read_at %>" style="padding: 10px;">
    <div class="content">
      <div class="description" style="display: flex; align-items: center; justify-content: space-between;">
        <div>
          <strong><%= notification.actor.name %></strong>
          <small style="color: #666;">size arkadaşlık isteği gönderdi</small>
        </div>
        <div class="ui mini buttons" style="margin-left: 10px;">
          <%= button_to accept_friend_request_user_path(notification.actor), 
              method: :post, 
              class: "ui mini positive button",
              style: "padding: 5px 8px;" do %>
            <i class="check icon"></i>
          <% end %>
          <%= button_to reject_friend_request_user_path(notification.actor), 
              method: :post, 
              class: "ui mini negative button",
              style: "padding: 5px 8px;" do %>
            <i class="times icon"></i>
          <% end %>
        </div>
      </div>
      <div class="metadata">
        <small><%= time_ago_in_words(notification.created_at) %> önce</small>
      </div>
    </div>
  </div>
<%# Other Notifications %>
<% else %>
  <div class="item notification <%= 'unread' unless notification.read_at %>" data-notification-id="<%= notification.id %>">
    <div class="content">
      <% case notification.action %>
      <% when 'friend_request_accepted' %>
        <div class="description">
          <strong><%= notification.actor.name %></strong> arkadaşlık isteğinizi kabul etti
          <div class="actions" style="margin-top: 8px;">
            <%= link_to chat_user_path(notification.actor), class: "ui mini primary button" do %>
              <i class="comment icon"></i> Mesaj Gönder
            <% end %>
          </div>
        </div>
      <% when 'new_message' %>
        <div class="description">
          <strong><%= notification.actor.name %></strong> size yeni bir mesaj gönderdi
          <div class="actions" style="margin-top: 8px;">
            <%= link_to conversation_private_messages_path(user_id: notification.actor.id), class: "ui mini primary button" do %>
              <i class="comment icon"></i> Mesajı Gör
            <% end %>
          </div>
        </div>
      <% end %>
      <div class="metadata">
        <small><%= time_ago_in_words(notification.created_at) %> önce</small>
      </div>
    </div>
  </div>
<% end %>

<style>
.notification {
  transition: background-color 0.2s;
}

.notification:hover {
  background-color: #f8f9fa;
}

.notification.unread {
  background-color: #f0f8ff;
}

.notification .description {
  margin-bottom: 0.5rem;
}

.notification .metadata {
  color: #6c757d;
  font-size: 0.85em;
  margin-top: 0.5rem;
}

.ui.mini.buttons {
  display: flex;
  gap: 4px;
}

.ui.mini.buttons .button {
  margin: 0 !important;
}
</style> 